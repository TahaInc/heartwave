#include "heartratesensor.h"

HeartRateSensor::HeartRateSensor(int ds)
{
    int rndVal;

    // If dataset not specified, pick random int from [0-2]
    if (ds == -1) {
        srand(time(0));
        rndVal = (rand() % 3);
    } else {
        rndVal = ds;
    }

    // Set heart rate data to specified dataset
    if (rndVal == 0) {
        data << 104 << 108 << 111 << 110 << 110 << 97 << 77 << 71 << 73 << 75 << 81 << 87 << 95 << 97 << 98 << 98 << 101 << 97 << 69 << 76 << 84 << 92 << 96 << 94 << 77 << 73 << 70 << 70 << 70 << 77 << 87 << 93 << 105 << 105 << 107 << 99 << 67 << 65 << 68 << 68 << 79 << 92 << 102 << 104 << 102 << 98 << 69 << 69 << 70 << 76 << 89 << 95 << 104 << 105 << 106 << 104 << 76 << 74 << 74 << 80 << 91 << 98 << 105 << 108 << 108 << 109 << 101 << 76 << 74 << 75 << 86 << 94 << 104 << 108 << 108 << 102 << 75 << 75 << 80 << 84 << 91 << 97 << 107 << 107 << 107 << 101 << 73 << 73 << 77 << 81 << 90 << 104 << 108 << 108 << 108 << 101 << 77 << 70 << 74 << 77 << 86 << 94 << 104 << 105 << 107 << 107 << 78 << 79 << 83 << 86 << 98 << 102 << 110 << 111 << 111 << 107 << 86 << 81 << 84 << 89;
    } else if (rndVal == 1) {
        data << 94 << 94 << 94 << 96 << 101 << 105 << 110 << 110 << 104 << 98 << 98 << 101 << 101 << 101 << 101 << 97 << 96 << 98 << 102 << 102 << 107 << 101 << 98 << 98 << 97 << 100 << 100 << 98 << 98 << 101 << 101 << 98 << 98 << 98 << 100 << 100 << 100 << 100 << 98 << 97 << 97 << 97 << 100 << 101 << 101 << 101 << 100 << 101 << 100 << 101 << 98 << 98 << 98 << 100 << 104 << 104 << 104 << 104 << 101 << 97 << 96 << 98 << 102 << 102 << 103 << 101 << 98 << 98 << 100 << 98 << 96 << 94 << 94 << 97 << 102 << 107 << 110 << 108 << 110 << 100 << 96 << 95 << 95 << 95 << 97 << 101 << 102 << 102 << 102 << 102 << 100 << 98 << 98 << 98 << 101 << 104 << 104 << 104 << 104 << 104 << 101 << 96 << 96 << 100 << 102 << 104 << 105 << 105 << 105 << 105 << 102 << 100 << 100 << 100 << 102 << 102 << 100 << 98 << 98 << 99;
    } else if (rndVal == 2) {
        data << 75 << 81 << 86 << 86 << 85 << 70 << 61 << 54 << 54 << 57 << 70 << 75 << 87 << 89 << 89 << 83 << 62 << 53 << 53 << 56 << 72 << 78 << 88 << 89 << 89 << 88 << 71 << 59 << 59 << 60 << 69 << 74 << 86 << 90 << 90 << 90 << 89 << 62 << 57 << 57 << 69 << 78 << 86 << 93 << 93 << 92 << 64 << 61 << 59 << 57 << 65 << 72 << 78 << 87 << 87 << 87 << 62 << 61 << 60 << 60 << 72 << 78 << 86 << 87 << 87 << 88 << 62 << 62 << 63 << 63 << 64 << 77 << 81 << 91 << 91 << 93 << 92 << 63 << 60 << 61 << 63 << 74 << 82 << 89 << 91 << 91 << 90 << 66 << 61 << 60 << 60 << 66 << 76 << 81 << 91 << 91 << 91 << 63 << 61 << 61 << 62 << 72 << 81 << 88 << 90 << 90 << 90 << 89 << 61 << 60 << 64 << 65 << 72 << 81 << 89 << 92 << 92 << 92 << 63 << 60;
    }
}

int HeartRateSensor::getHeartRate(int time) {
    // If time is valid, return corresponding heart rate data
    if (0 <= time && time < data.size()) {
        return data[time];
    }

    return -1;
}
